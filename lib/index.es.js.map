{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["import { useEffect, useState, useCallback } from \"react\";\n/**\n * @description listen the dom.onScroll, return breakpoint < scrollTop\n * @author Yrobot\n * @date 03/06/2021\n * @export\n * @param {*} [{ breakpoint = 0, id = '', onScroll: scrollCallback = () => {} }={}]\n * @return {*}  [breakpoint < scrollTop]\n */\nexport default function useScrollBreakpoint({\n  breakpoint = 0,\n  id = \"\",\n  onScroll: scrollCallback = (scrollTop: number) => {},\n} = {}) {\n  const [isPass, setPass] = useState(breakpoint < 0);\n\n  const onScroll = useCallback((e) => {\n    // for window.scrollTop\n    let scrollTop = e?.target?.documentElement?.scrollTop;\n    // for element.scrollTop\n    if (scrollTop === undefined) scrollTop = e?.target?.scrollTop;\n    // if cant get scrollTop, warn on console\n    if (scrollTop === undefined) {\n      console.warn(\n        `useScrollBreakpoint.onScroll.event: scrollTop is undefined`\n      );\n      return;\n    }\n    // callback from params\n    scrollCallback(scrollTop);\n\n    if (scrollTop > breakpoint) setPass(true);\n    if (scrollTop <= breakpoint) setPass(false);\n  }, []);\n\n  useEffect(() => {\n    // set the listener, if pass id, listen the dom, or listen window\n    const listenElement = (id && document.getElementById(id)) || window;\n    // listen onScroll\n    listenElement.addEventListener(\"scroll\", onScroll);\n    // unlisten\n    return () => listenElement.removeEventListener(\"scroll\", onScroll);\n  }, []);\n  return [isPass];\n}\n"],"names":["breakpoint","id","onScroll","scrollCallback","scrollTop","isPass","setPass","useState","useCallback","e","target","documentElement","warn","listenElement","document","getElementById","window","addEventListener","removeEventListener"],"mappings":"6EAS4CA,WAC1CA,EAAa,KACbC,EAAK,GACLC,SAAUC,EAAiB,CAACC,QAC1B,UACKC,EAAQC,GAAWC,EAASP,EAAa,GAE1CE,EAAWM,GAAaC,kBAExBL,EAAY,SAAA,0BAAGM,iBAAQC,0BAAiBP,eAE1B,IAAdA,MAAqC,0BAAGM,iBAAQN,gBAElC,IAAdA,KAOWA,GAEXA,EAAYJ,MAAoB,GAChCI,GAAaJ,MAAoB,YAT3BY,KACN,gEASH,cAEO,WAEFC,EAAiBZ,GAAMa,SAASC,eAAed,IAAQe,gBAE/CC,iBAAiB,SAAUf,GAElC,IAAMW,EAAcK,oBAAoB,SAAUhB,KACxD,IACI,CAACG"}